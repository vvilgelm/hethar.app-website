<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Debug - Hethar</title>
  <style>
    :root {
      --ink: #0A0A0A;
      --paper: #FFFFFF;
    }
    body {
      font-family: monospace;
      background: var(--ink);
      color: var(--paper);
      padding: 20px;
      line-height: 1.6;
    }
    .test {
      margin: 20px 0;
      padding: 10px;
      border: 1px solid #333;
    }
    .pass { color: #0f0; }
    .fail { color: #f00; }
    h1 {
      font-size: clamp(40px, 8vw, 120px);
      animation: breath 6s ease-in-out infinite;
    }
    @keyframes breath {
      0% { transform: scale(0.998); }
      50% { transform: scale(1); }
      100% { transform: scale(0.998); }
    }
    .btn {
      display: inline-block;
      padding: 12px 18px;
      border: 1px solid white;
      border-radius: 999px;
      margin: 10px 0;
      transition: transform 0.15s;
    }
    .btn:hover {
      transform: translateY(-2px);
    }
  </style>
</head>
<body>
  <h1>Debug Hethar Effects</h1>
  
  <div class="test">
    <h2>1. CSS Animation Test (Watch this headline breathe)</h2>
    <h1 style="font-size: 48px;">This should breathe subtly</h1>
  </div>
  
  <div class="test">
    <h2>2. Hover Test</h2>
    <div class="btn">Hover me - I should lift up</div>
  </div>
  
  <div class="test">
    <h2>3. JavaScript Test</h2>
    <div id="js-test">JavaScript NOT LOADED</div>
  </div>
  
  <div class="test">
    <h2>4. COPY Object Test</h2>
    <div id="copy-test">Checking...</div>
  </div>
  
  <div class="test">
    <h2>5. Whisper Test</h2>
    <button onclick="testWhisper()" class="btn">Click to trigger whisper</button>
    <div id="whisper-result"></div>
  </div>
  
  <div class="test">
    <h2>6. Console Logs</h2>
    <pre id="logs"></pre>
  </div>
  
  <script src="/js/copy.js"></script>
  <script>
    const log = (msg) => {
      console.log(msg);
      const el = document.getElementById('logs');
      el.textContent += msg + '\n';
    };
    
    log('Script started');
    
    // Test 3: JavaScript
    document.getElementById('js-test').innerHTML = '<span class="pass">✓ JavaScript LOADED</span>';
    log('✓ JavaScript is running');
    
    // Test 4: COPY object
    if (typeof window.COPY !== 'undefined') {
      document.getElementById('copy-test').innerHTML = `
        <span class="pass">✓ COPY object exists</span><br>
        Hero: ${window.COPY.heroHeadline}<br>
        Interjections: ${window.COPY.interjections.length}
      `;
      log('✓ COPY object loaded');
      log('  heroHeadline: ' + window.COPY.heroHeadline);
    } else {
      document.getElementById('copy-test').innerHTML = '<span class="fail">✗ COPY object MISSING</span>';
      log('✗ COPY object not found');
    }
    
    // Test 5: Whisper function
    function testWhisper() {
      log('Whisper button clicked');
      const whisper = (msg) => {
        const w = document.createElement('div');
        w.style.cssText = 'position:fixed;bottom:24px;left:24px;color:#8A8D91;font-size:14px;opacity:0;transform:translateY(6px);transition:all 0.3s;z-index:9999;';
        w.textContent = msg;
        document.body.appendChild(w);
        
        setTimeout(() => {
          w.style.opacity = '1';
          w.style.transform = 'translateY(0)';
        }, 10);
        
        setTimeout(() => {
          w.style.opacity = '0';
        }, 1600);
        
        setTimeout(() => w.remove(), 2000);
      };
      
      whisper('Test whisper works!');
      document.getElementById('whisper-result').innerHTML = '<span class="pass">✓ Whisper triggered</span>';
      log('✓ Whisper function executed');
    }
    
    // Check animations
    const h1 = document.querySelector('h1');
    const computedStyle = getComputedStyle(h1);
    log('Animation on h1: ' + (computedStyle.animation !== 'none' && computedStyle.animation !== '' ? computedStyle.animation : 'NONE'));
    
    // Check if prefers-reduced-motion is on
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    log('Prefers reduced motion: ' + prefersReduced);
    
    log('All tests complete');
  </script>
</body>
</html>

